---
title: "Reproducible Research"
author: "Bob Komara"
date: "March 17, 2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}
summary(cars)
```

## Two bad practices

![Don't get Jenny mad](https://pbs.twimg.com/media/DQugFIWUEAErq0D.jpg)

![This will make her mad too](https://pbs.twimg.com/media/DQugFMjV4AAZtB-.jpg)

#### Why are these practces sub-optimal?

Solutions!

1. If you don't know or follow Jenny Bryan check her out: https://twitter.com/JennyBryan
1. Projects
    1. Show how to set up and use Projects
2. Using `save.image` to save output: `save.image("~/development/reproducible-research/bad.RData")`
    1. Use saveRDS() readRDS() instead TODO: insert example here
2. file.path

```{r here, echo=TRUE}
here::here()
here::dr_here()
```

## File and Directory management


## Data

### Disable auto save and restore workspace!

1. Tools
2. GLobal Options
3. ![Set save to Never and uncheck restore...](figures/rdata.PNG)


This is not recommended!
```{r data}
x <- 1
y <- 2
save.image()
```

Why?
```{r}
x <- list("important information is stored here", "it's going to be overwritten!!!")
x
load(".RData")
x
y
```

This is better
```{r data_better}
x <- 1
y <- 2
saveRDS(x, "data/x.rds")
saveRDS(y, "data/y.rds")
x <- readRDS("data/x.rds")
y <- readRDS("data/y.rds")
x
y
```

This is best
```{r data_best}
data_path <- "data"

saveRDS(x, file.path(data_path, "x.rds"))
saveRDS(y, file.path(data_path, "y.rds"))

x <- readRDS(file.path(data_path, "x.rds"))
y <- readRDS(file.path(data_path, "y.rds"))
x
y
```

`file.path` is OS agnostic

...works on Windows, Linux, Mac :)



